# 数列的S0与分段的关系

> 高中数学·数列·求和

## 引入

在数列中，前 $n$ 项和 $S_n$ 极为常用。因此有一个很符合直觉也很重要的公式：

$$
a_n=\left\{
\begin{aligned}
S_1&\quad , n=1\\
S_{n}-S_{n-1}&\quad ,n\ge 2
\end{aligned}
\right.
$$

为此，一些题目会挖坑，如 $S_n=n^2+1$，虽为二次函数模板，但是只从第二项开始才是等差数列：

$$
2, 3, 5, 7, 9, 11, 13...
$$

## 起因

为此，我们被特别提醒，等差数列的模板是：

$$S_n=An^2+Bn+\fbox{0}$$

可是，这就自然造成了一种联想——也就是二次函数图像通过原点，代入得$S_0=0$。

同时，等比数列的求和也满足 $S_0=0$：

$$
S_n=\left\{
\begin{aligned}
na_1&\quad , q=1\\
\frac{1-q^n}{1-q}a_1&\quad ,n\ge 2
\end{aligned}
\right.
$$

我们又知道，等差、等比数列不可能分段，而前面 $S_n=n^2+1$ 的 $S\ne 0$，就要分段，这是否意味着 $S_0$ 是否为 $0$ 是判断数列是否分段的重要标准？

## 结论

还真是。

这个结论不算特别严谨，但一般情况下都是适用的——如果$S_n$不是分段函数（大多数题目都是这样），那么 $S_0\ne 0\Leftrightarrow a_n$ 是分段数列。证明很简单：

令 $S_n=f(n),n\in\mathbb{N}$，则当 $n\ge 2$ 时，$a_n=f(n)-f(n-1)$。

我们又知道根据函数的加减，$a_n(n\ge 2)$ 也可视作是一个不分段的函数。

那么，为了让其保持不分段，也应满足 $a_1=f(1)-f(0)$。

再由定义，$a_1=S_1=f(1)$，两式代换得 $f(0)=S_0=0$。

## 应用

因此，$S_0$ 这样一个“未定义的数”就被我们赋予了实际的意义。直接将 $n=0$ 代入表达式中，便能判断数列是否分段。有了这个结论，自然不会被 $S_n=n^2+1$ 坑住了。

例如，$S_n=n^3+2n^2$，我们便能确定它不需要分段；
而$S_n=\log_2{n}$（$n=0$ 甚至无意义），便一定是要分段的。

