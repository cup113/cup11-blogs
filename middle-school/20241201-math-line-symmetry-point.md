# 解析几何中直线的对称点快速算法

> 高中数学·解析几何·直线中的对称问题

## 预备知识

1. 平面向量的坐标表示及其运算
2. 直线的方程、法向量

## 背景

“点关于直线的对称点”是直线一章中简单却**计算量最大**的问题之一，常容易在方程联立时求错。

因此，有些同学会尝试求助公式，但是如果直接把公式摆出来：

$$
\left\{\begin{align}
x=x_0-2A\frac{Ax_0+By_0+C}{A^2+B^2}\\
y=y_0-2B\frac{Ax_0+By_0+C}{A^2+B^2}
\end{align}\right.
$$

又看起来非常冗长，难以背下，更难以理解。

因此本文会用一种更符合直觉的方式，讲述公式的来由，并给出更简单的计算方法。

## 有向距离

常规方法通过先设出对称点 $(x_0,y_0)$ 再联立求解，我们要简化计算，必然要通过将**反推**转化为**正推**。

显然，我们平时用刻度尺和三角尺作图不是依靠联立，而是：

1. 将尺面垂直于直线放置，使尺面经过点 $(x_0,y_0)$。
2. 沿尺面划线（垂线）。
3. 找到这条垂线与直线的交点（垂足）。
4. 测量垂足和点 $(x_0,y_0)$ 的距离。
5. 在另一侧找到同样大的距离描点。

所以关键在于两件事：

1. **垂直**。因此我们需要联系到法向量 $\overrightarrow{n}$。
2. **距离**。因此我们需要联系到点到直线的距离。

显然，当一个点沿垂线移动时，这个点前后到直线的**距离差值**就是**移动的距离**。但是，向同一个方向移动，接近直线时距离不断减小，远离直线时距离却不断增大，不满足单调性。

为了构造满足单调性的距离，我们定义**有向距离**：

$$
\begin{align}
\delta = \frac{Ax_0+By_0+C}{\sqrt{A^2+B^2}}
\end{align}
$$

其中点 $P(x_0, y_0)$，直线 $l:Ax+By+C=0$。

也就是去掉了绝对值符号。

对称点**到直线的距离相同，到直线的有向距离相反**。

这样一来，问题就迎刃而解。

## 推导

回顾刚才用尺作对称点的过程，我们只需要找到垂直的方向即法向量 $\overrightarrow{n}=(a,b)$ ，再将这个点移动一段距离即可。

那么移动多少距离呢？

已知 $P(x_0,y_0)$ 到直线 $l:Ax+By+C=0$ 的有向距离为 $\delta$，则对称点 $P'(x,y)$ 到直线 $l$ 的有向距离应为 $- \delta$。

由于法向量的长度不统一，我们先将其单位化为单位法向量 $\overrightarrow{n_0}=\frac{\overrightarrow{n}}{\sqrt{A^2+B^2}}$。

这样一来，一个点每沿 $n_0$ 移动一个单位，有向距离就会增大 1。（沿着垂线走 1 单位，有向距离变化 1 单位）

**所以从 $\delta$ 走到 $-\delta$，只需走 $-2\delta$ 即可**。

最终：

将点 $P(x_0,y_0)$ 沿单位法向量 $\overrightarrow{n_0}$ 移动 $-2\delta$ 个单位，即可得到对称点 $P'(x,y)$。

故有：

$$
\begin{align}
\boxed{\overrightarrow{OP'}=\overrightarrow{OP}-2\delta\cdot \overrightarrow{n_0}}
\end{align}
$$

也就是：

$$
(x,y)=(x_0,y_0)-2\frac{Ax_0+By_0+C}{\sqrt{A^2+B^2}}\cdot \left(\frac{A}{\sqrt{A^2+B^2}}, \frac{B}{\sqrt{A^2+B^2}}\right)
$$

展开总是更繁琐的，我们只需要记住最简洁的形式即可。

## 实战

那么，这个方法会更繁琐吗？其实一点也不会。只要不急着把 $\sqrt{A^2+B^2}$ 分母有理化，计算量其实会大大减小。

例如：求 $P(2,1)$ 关于直线 $x+2y-1=0$ 的对称点。

解答：计算得：

$$
\begin{align}
\delta &= \frac{2+2-1}{\sqrt{1^2+2^2}}=\frac{3}{\sqrt{5}}\\
\overrightarrow{n_0} &= \frac{(1,2)}{\sqrt{1^2+2^2}}=\left(\frac{1}{\sqrt{5}},\frac{2}{\sqrt{5}}\right)\\
2\delta \overrightarrow{n_0}&=\left(\frac{6}{5},\frac{12}{5}\right)
\end{align}
$$

所以：

$$
(x,y)=(2,1)-\left(\frac{6}{5},\frac{12}{5}\right)=\left(\frac{4}{5},-\frac{7}{5}\right)
$$

可见，整个过程比联立计算更加简单，比直接背公式更加容易理解，不失为一种好方法。

## 拓展

考察 $A=B=1$ 的情况，公式简化为：

$$
\begin{align}
(x,y)&=(x_0,y_0)-(x_0+y_0+C,x_0+y_0+C)\\
(x,y)&=(-y_0-C,-x_0-C)
\end{align}
$$

此时恰有 $x+y_0+C=0$，$x_0+y+C=0$，与原直线方程神似。这也是移项技巧的来源。

但是，这种巧合只有在 $A=B$ 或 $A=-B$ 时才会出现，所以不适合一般用途。

> 免责声明：简答题不应直接使用该公式。
