# C53. CSS åŠ¨ç”»

## 3.1. â­ CSS åŠ¨ç”»åŸºç¡€ {#31-animation-basics}

### 3.1.1. â­ `@keyframes` å®šä¹‰åŠ¨ç”»åºåˆ—

é€šè¿‡ `@keyframes` è§„åˆ™å®šä¹‰åŠ¨ç”»çš„å…³é”®å¸§ï¼Œæ§åˆ¶å…ƒç´ åœ¨ä¸åŒæ—¶é—´ç‚¹çš„æ ·å¼å˜åŒ–ã€‚

è¯­æ³•ç¤ºä¾‹ï¼š

```css
/* ä½¿ç”¨ from/to ç®€å†™ */
@keyframes fade {
  from { opacity: 0; } /* 0% é€æ˜åº¦ */
  to { opacity: 1; }   /* 100% é€æ˜åº¦ */
}

/* ä½¿ç”¨ç™¾åˆ†æ¯”ç²¾ç¡®æ§åˆ¶ */
@keyframes move {
  0% { transform: translateX(0); }
  50% { transform: translateX(200px); }
  100% { transform: translateX(0); }
}
```

**å…³é”®ç‚¹**ï¼š

- åŠ¨ç”»åç§°ï¼ˆå¦‚ `fade`ï¼‰éœ€å”¯ä¸€ä¸”ä¸ `animation-name` å…³è”ã€‚
- ç™¾åˆ†æ¯”æˆ– `from/to` å®šä¹‰åŠ¨ç”»çš„èµ·å§‹ã€ä¸­é—´å’Œç»“æŸçŠ¶æ€ã€‚

### 3.1.2. `animation` å±æ€§åŠå…¶å­å±æ€§

é€šè¿‡ `animation` æˆ–å…¶å­å±æ€§ï¼ˆå¦‚ `animation-duration`ï¼‰å°†å…³é”®å¸§åº”ç”¨åˆ°å…ƒç´ ã€‚

#### ğŸ“Œ æ ¸å¿ƒå±æ€§è¡¨ï¼š

| å±æ€§                        | ä½œç”¨                           | ç¤ºä¾‹å€¼                  |
| --------------------------- | ------------------------------ | ----------------------- |
| `animation-name`            | å…³é”®å¸§åç§°                     | `fade`ã€`move`          |
| `animation-duration`        | åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆç§’/s æˆ–æ¯«ç§’/msï¼‰ | `2s`ã€`500ms`           |
| `animation-timing-function` | é€Ÿåº¦æ›²çº¿ï¼ˆåŒ€é€Ÿã€åŠ é€Ÿç­‰ï¼‰       | `linear`ã€`ease-in-out` |
| `animation-delay`           | åŠ¨ç”»å»¶è¿Ÿå¼€å§‹æ—¶é—´               | `1s`ï¼ˆå»¶è¿Ÿ1ç§’å¯åŠ¨ï¼‰     |
| `animation-iteration-count` | åŠ¨ç”»å¾ªç¯æ¬¡æ•°                   | `3`ã€`infinite`         |
| `animation-direction`       | åŠ¨ç”»æ’­æ”¾æ–¹å‘                   | `reverse`ã€`alternate`  |
| `animation-fill-mode`       | åŠ¨ç”»ç»“æŸåçš„çŠ¶æ€               | `forwards`ã€`both`      |
| `animation-play-state`      | æš‚åœæˆ–ç»§ç»­åŠ¨ç”»                 | `paused`ã€`running`     |

## 3.2. CSS åŠ¨ç”»å®ç°ç¤ºä¾‹

### 3.2.1. æ·¡å…¥æ·¡å‡ºåŠ¨ç”»

```css
/* å®šä¹‰å…³é”®å¸§ */
@keyframes fadeInOut {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* åº”ç”¨åŠ¨ç”» */
.fade-element {
  animation: fadeInOut 2s infinite; /* æ— é™å¾ªç¯ */
}
```

### 3.2.2. å…ƒç´ ç§»åŠ¨ä¸æ—‹è½¬

```css
/* å®šä¹‰å…³é”®å¸§ */
@keyframes moveAndRotate {
  0% {
    transform: translateX(0) rotate(0deg);
  }
  50% {
    transform: translateX(200px) rotate(180deg);
  }
  100% {
    transform: translateX(0) rotate(360deg);
  }
}

/* åº”ç”¨åŠ¨ç”» */
.box {
  width: 100px;
  height: 100px;
  background: tomato;
  animation: moveAndRotate 3s ease-in-out infinite;
}
```

### 3.2.3. æ–¹å‘æ§åˆ¶ä¸å»¶è¿Ÿ

```css
/* å®šä¹‰å…³é”®å¸§ */
@keyframes slide {
  0% { left: 0; }
  100% { left: 100%; }
}

/* åº”ç”¨åŠ¨ç”»ï¼ˆåå‘æ’­æ”¾ï¼Œå»¶è¿Ÿ1ç§’ï¼‰ */
.slider {
  position: relative;
  animation: slide 4s linear infinite;
  animation-direction: reverse; /* åå‘æ’­æ”¾ */
  animation-delay: 1s;
}
```

## 3.3. gasp.js åŠ¨ç”»é›†æˆ

> **gasp.js** æ˜¯ä¸€ä¸ªè½»é‡çº§ JavaScript åº“ï¼Œç”¨äºç®€åŒ– CSS åŠ¨ç”»çš„åˆ›å»ºå’Œæ§åˆ¶ã€‚å®ƒé€šè¿‡ `gsap.to()` ç­‰æ–¹æ³•å®ç°æ›´å¤æ‚çš„åŠ¨ç”»æ•ˆæœã€‚

### 3.3.1. å®‰è£…ä¸å¼•å…¥

```html
<!-- é€šè¿‡ CDN å¼•å…¥ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
```

### 3.3.2. ç¤ºä¾‹ï¼šå¼¹è·³åŠ¨ç”»

```html
<div class="bounce-box"></div>

<style>
.bounce-box {
  width: 100px;
  height: 100px;
  background: rebeccapurple;
}
</style>

<script>
// ä½¿ç”¨ gasp.js åˆ›å»ºå¼¹è·³åŠ¨ç”»
gsap.to(".bounce-box", {
  duration: 1,
  y: 200, // å‚ç›´ç§»åŠ¨200px
  ease: "bounce.out", // å¼¹è·³ç¼“åŠ¨
  repeat: -1, // æ— é™å¾ªç¯
  yoyo: true // å¾€è¿”åŠ¨ç”»
});
</script>
```

### 3.3.3. ç»„åˆ CSS åŠ¨ç”»ä¸ gasp.js

```css
/* å®šä¹‰åŸºç¡€ CSS åŠ¨ç”» */
@keyframes spin {
  to { transform: rotate(360deg); }
}

.spin-box {
  width: 150px;
  height: 150px;
  background: gold;
  animation: spin 2s linear infinite;
}
```

```javascript
// ä½¿ç”¨ gasp.js æ·»åŠ ç¼©æ”¾æ•ˆæœ
gsap.to(".spin-box", {
  duration: 1,
  scale: 1.2,
  repeat: -1,
  yoyo: true,
  ease: "power1.inOut"
});
```

## çŸ¥è¯†å›é¡¾

1. **CSS åŠ¨ç”»æ ¸å¿ƒæµç¨‹**ï¼š
   - ç”¨ `@keyframes` å®šä¹‰å…³é”®å¸§ã€‚
   - é€šè¿‡ `animation` å±æ€§å°†åŠ¨ç”»ç»‘å®šåˆ°å…ƒç´ ã€‚
2. **å…³é”®å±æ€§**ï¼š
   - `animation-duration` æ§åˆ¶æ—¶é•¿ã€‚
   - `animation-timing-function` å®šä¹‰é€Ÿåº¦æ›²çº¿ã€‚
   - `animation-iteration-count: infinite` å®ç°æ— é™å¾ªç¯ã€‚
3. **gasp.js ä¼˜åŠ¿**ï¼š
   - æ›´å¤æ‚çš„ç¼“åŠ¨æ•ˆæœï¼ˆå¦‚ `bounce.out`ï¼‰ã€‚
   - ç²¾ç»†æ§åˆ¶åŠ¨ç”»å‚æ•°ï¼ˆå¦‚ `yoyo` å¾€è¿”ï¼‰ã€‚
   - æ”¯æŒ JS äº‹ä»¶é©±åŠ¨ï¼ˆå¦‚ç‚¹å‡»è§¦å‘åŠ¨ç”»ï¼‰ã€‚

## è¯¾åç»ƒä¹ 

1. ï¼ˆå•é€‰ï¼‰ä»¥ä¸‹å“ªä¸ªå±æ€§ç”¨äºæ§åˆ¶åŠ¨ç”»çš„æ’­æ”¾æ–¹å‘ï¼Ÿ
   A. `animation-delay`
   B. `animation-direction`
   C. `animation-duration`
   D. `animation-fill-mode`

2. ï¼ˆä»£ç é¢˜ï¼‰ä¿®å¤ä»¥ä¸‹ä»£ç ï¼Œä½¿å…ƒç´ ä»¥ `ease-in-out` é€Ÿåº¦æ›²çº¿æ‰§è¡ŒåŠ¨ç”»ï¼š
   ```css
   @keyframes spin { ... }
   .element {
     animation: spin 2s; /* ç¼ºå°‘å‚æ•° */
   }
   ```

3. ï¼ˆå®è·µé¢˜ï¼‰ä½¿ç”¨ `gasp.js` å®ç°ä¸€ä¸ªå…ƒç´ ä»å±å¹•å·¦ä¾§æ»‘å…¥å¹¶æ”¾å¤§ï¼š
   ```javascript
   gsap.from(".slide-in", {
     duration: 1,
     opacity: 0,
     x: -100%,
     scale: 0.8,
     ease: "power2.out"
   });
   ```
