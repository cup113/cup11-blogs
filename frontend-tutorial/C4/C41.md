# C41. Vue ç¯å¢ƒé…ç½®

## 1.1. ä½¿ç”¨ npm å®‰è£… Vite

> **Vite** æ˜¯æ–°ä¸€ä»£çš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œèƒ½æ˜¾è‘—æå‡å¼€å‘é€Ÿåº¦ã€‚å®ƒé€šè¿‡åŸç”Ÿ ES æ¨¡å—æ”¯æŒå®ç°â€œå†·å¯åŠ¨é›¶é…ç½®â€ï¼Œæ˜¯ Vue å¼€å‘çš„é¦–é€‰å·¥å…·ã€‚

### ğŸ› ï¸ å®‰è£…æ­¥éª¤ï¼š

1. **ç¡®è®¤ç¯å¢ƒ**ï¼š
   - ç¡®ä¿å·²å®‰è£… **Node.js**ï¼ˆå»ºè®®ç‰ˆæœ¬ â‰¥ 16.14.0ï¼‰å’Œ **npm**ï¼ˆç‰ˆæœ¬ â‰¥ 8.5.0ï¼‰ã€‚
   - æ£€æŸ¥ç‰ˆæœ¬ï¼š
     ```bash
     node -v   # æŸ¥çœ‹ Node.js ç‰ˆæœ¬
     npm -v    # æŸ¥çœ‹ npm ç‰ˆæœ¬
     ```

2. **å…¨å±€å®‰è£… Vite**ï¼š
   ```bash
   npm install -g vite
   ```
   :::: warning
   - è‹¥æƒé™ä¸è¶³ï¼Œå¯æ·»åŠ  `--force` æˆ– `--legacy-peer-deps` å‚æ•°ã€‚
   - Windows ç”¨æˆ·å»ºè®®ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤è¡Œã€‚
   ::::

3. **éªŒè¯å®‰è£…**ï¼š
   ```bash
   vite --version  # è¾“å‡º Vite ç‰ˆæœ¬å·
   ```

## 1.2. ä½¿ç”¨ npm create åˆ›å»º Vue é¡¹ç›®

> é€šè¿‡ Vite çš„æ¨¡æ¿åŠŸèƒ½å¿«é€Ÿç”Ÿæˆ Vue é¡¹ç›®éª¨æ¶ï¼Œçœå»æ‰‹åŠ¨é…ç½®çš„éº»çƒ¦ã€‚

### ğŸ¯ åˆ›å»ºæ­¥éª¤ï¼š

1. **æ‰§è¡Œå‘½ä»¤**ï¼š
   ```bash
   npm create vite@latest
   ```
   - å›è½¦åæŒ‰æç¤ºæ“ä½œï¼š
     - **é¡¹ç›®åç§°**ï¼šè¾“å…¥é¡¹ç›®æ–‡ä»¶å¤¹åï¼ˆå¦‚ `my-vue-app`ï¼‰ã€‚
     - **é€‰æ‹©æ¡†æ¶**ï¼šè¾“å…¥ `vue` å¹¶å›è½¦ã€‚
     - **é€‰æ‹© Variants**ï¼šé€‰æ‹© `vue2` æˆ– `vue3`ï¼ˆé»˜è®¤æ¨è Vue 3ï¼‰ã€‚
     - **æ˜¯å¦ä½¿ç”¨ TypeScript**ï¼šæŒ‰éœ€é€‰æ‹© `y`/`n`ã€‚

   :::: tip
   å¯ç›´æ¥æŒ‡å®šå‚æ•°å¿«é€Ÿåˆ›å»ºï¼ˆæ— éœ€äº¤äº’ï¼‰ï¼š
   ```bash
   npm create vite@latest my-vue-app -- --template vue
   ```

2. **è¿›å…¥é¡¹ç›®ç›®å½•**ï¼š
   ```bash
   cd my-vue-app
   ```

3. **é¡¹ç›®ç»“æ„ç¤ºä¾‹**ï¼š
   ```text
   my-vue-app/
   â”œâ”€â”€ node_modules/          # ä¾èµ–åº“
   â”œâ”€â”€ public/                # é™æ€èµ„æºï¼ˆå¦‚ favicon.icoï¼‰
   â”œâ”€â”€ src/                   # æºä»£ç 
   â”‚   â”œâ”€â”€ assets/            # å›¾æ ‡ã€å›¾ç‰‡ç­‰
   â”‚   â”œâ”€â”€ components/        # Vue ç»„ä»¶
   â”‚   â””â”€â”€ main.js            # å…¥å£æ–‡ä»¶
   â”‚   â””â”€â”€ App.vue            # æ ¹ç»„ä»¶
   â”œâ”€â”€ index.html             # å…¥å£ HTML
   â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
   â””â”€â”€ vite.config.js         # Vite é…ç½®ï¼ˆå¯é€‰ï¼‰
   ```

## 1.3. ä½¿ç”¨ npm run dev å¯åŠ¨ Vue é¡¹ç›®

> é€šè¿‡å¼€å‘æœåŠ¡å™¨å®æ—¶é¢„è§ˆé¡µé¢ï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼ˆä»£ç ä¿å­˜åæ— éœ€åˆ·æ–°é¡µé¢ï¼‰ã€‚

### ğŸš€ å¯åŠ¨å‘½ä»¤ï¼š
```bash
npm run dev
```
- æˆåŠŸåä¼šè¾“å‡ºç±»ä¼¼ä»¥ä¸‹ä¿¡æ¯ï¼š
  ```bash
  VITE v4.4.9  ready in 1000ms
  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
  ```

### ğŸ” è®¿é—®é¡¹ç›®ï¼š
- æµè§ˆå™¨æ‰“å¼€ `http://localhost:5173`ï¼Œå³å¯çœ‹åˆ°é»˜è®¤çš„ Vue æ¬¢è¿ç•Œé¢ã€‚

## 1.4. æ‰“åŒ…ä¸é¢„è§ˆ Vue é¡¹ç›®

> æ‰“åŒ…åç”Ÿæˆçš„é™æ€èµ„æºå¯éƒ¨ç½²åˆ°ä»»æ„æœåŠ¡å™¨ã€‚

### ğŸ“¦ æ‰“åŒ…å‘½ä»¤ï¼š
```bash
npm run build
```
- ç”Ÿæˆç›®å½• `dist/`ï¼ŒåŒ…å«å‹ç¼©åçš„ HTMLã€CSSã€JS æ–‡ä»¶åŠèµ„æºã€‚

### ğŸŒ é¢„è§ˆæ‰“åŒ…ç»“æœï¼š
1. ä½¿ç”¨ `serve` å·¥å…·ï¼ˆéœ€æå‰å®‰è£…ï¼‰ï¼š
   ```bash
   npm install -g serve
   serve -s dist
   ```
   - è®¿é—® `http://localhost:3000` æŸ¥çœ‹æ‰“åŒ…æ•ˆæœã€‚

2. ç›´æ¥æ‰“å¼€ `dist/index.html`ï¼ˆéœ€æœåŠ¡å™¨æ”¯æŒï¼‰ã€‚

## 1.5. å•ä¸ª Vue æ–‡ä»¶åŒ…å«ä¸‰ç§è¯­è¨€

> **Vue å•æ–‡ä»¶ç»„ä»¶ï¼ˆ.vueï¼‰** æ˜¯ Vue çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå°† HTMLã€CSSã€JavaScript ä¸‰è€…æ•´åˆä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚

### ğŸ“„ æ–‡ä»¶ç»“æ„ç¤ºä¾‹ï¼š

```vue
<template>
  <!-- HTML æ¨¡æ¿ï¼šç•Œé¢ç»“æ„ -->
  <div class="container">
    <h1>{{ title }}</h1>
    <button @click="increment">ç‚¹å‡»è®¡æ•°</button>
    <p>è®¡æ•°å™¨ï¼š{{ count }}</p>
  </div>
</template>

<script setup>
// JavaScript é€»è¾‘ï¼šæ•°æ®ä¸æ–¹æ³•
import { ref } from 'vue';

const title = 'æ¬¢è¿ä½¿ç”¨ Vue!';
const count = ref(0);

function increment() {
  count.value++;
}
</script>

<style scoped>
/* CSS æ ·å¼ï¼šæ ·å¼ä»…ä½œç”¨äºå½“å‰ç»„ä»¶ */
.container {
  text-align: center;
  padding: 20px;
  background-color: #f0f0f0;
}
</style>
```

### ğŸ› ï¸ å…³é”®ç‰¹æ€§ï¼š
1. **æ¨¡æ¿ï¼ˆTemplateï¼‰**ï¼š
   - ä½¿ç”¨åŒèŠ±æ‹¬å· `{{ }}` æ’å…¥æ•°æ®ï¼Œ`@click` ç­‰æŒ‡ä»¤ç»‘å®šäº‹ä»¶ã€‚
2. **è„šæœ¬ï¼ˆScriptï¼‰**ï¼š
   - ä½¿ç”¨ `ref` ç®¡ç†å“åº”å¼æ•°æ®ï¼Œå®šä¹‰æ–¹æ³•ã€‚
3. **æ ·å¼ï¼ˆStyleï¼‰**ï¼š
   - `scoped` å±æ€§ç¡®ä¿æ ·å¼ä»…ä½œç”¨äºå½“å‰ç»„ä»¶ï¼Œé¿å…å†²çªã€‚

## 1.6. Vue æ–‡ä»¶å¯ä»¥é€šè¿‡ import è°“è¯è°ƒç”¨

> Vue æ”¯æŒ ES æ¨¡å—åŒ–è¯­æ³•ï¼Œå¯é€šè¿‡ `import` å¼•å…¥å…¶ä»–ç»„ä»¶ã€èµ„æºæˆ–ç¬¬ä¸‰æ–¹åº“ã€‚

### ğŸ“š å¸¸è§ import åœºæ™¯ï¼š

1. **å¯¼å…¥ç»„ä»¶**ï¼š
   ```vue
   <!-- åœ¨ App.vue ä¸­å¯¼å…¥å­ç»„ä»¶ -->
   <script setup>
   import MyButton from './components/MyButton.vue';
   </script>

   <template>
     <MyButton>ç‚¹å‡»æˆ‘</MyButton>
   </template>
   ```

2. **å¯¼å…¥ CSS æ–‡ä»¶**ï¼š
   ```vue
   <style>
   /* å…¨å±€æ ·å¼ */
   @import './assets/styles/global.css';
   </style>
   ```

3. **å¯¼å…¥ç¬¬ä¸‰æ–¹åº“**ï¼š
   ```vue
   <script setup>
   import { ref } from 'vue';
   import axios from 'axios';  // éœ€å…ˆå®‰è£… axios
   </script>
   ```

::: warning
- æ–‡ä»¶è·¯å¾„éœ€æ­£ç¡®ï¼ˆç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼‰ã€‚
- ç¬¬ä¸‰æ–¹åº“éœ€å…ˆé€šè¿‡ `npm install` å®‰è£…ã€‚
:::

## 1.7. Vue å¯é…ç½®å¤šç§è¯­è¨€

> Vue æ”¯æŒé€šè¿‡é…ç½®æ–‡ä»¶æˆ–æ’ä»¶å®ç°å¤šè¯­è¨€æ”¯æŒï¼Œå¦‚å›½é™…åŒ–ï¼ˆi18nï¼‰ã€‚

### ğŸŒ åŸºç¡€é…ç½®æ­¥éª¤ï¼ˆä»¥ vue-i18n ä¸ºä¾‹ï¼‰ï¼š

1. **å®‰è£…æ’ä»¶**ï¼š
   ```bash
   npm install vue-i18n
   ```

2. **åˆ›å»ºè¯­è¨€æ–‡ä»¶**ï¼š
   ```json
   // src/locales/zh.json
   {
     "welcome": "æ¬¢è¿ä½¿ç”¨ Vue!",
     "counter": "è®¡æ•°å™¨ï¼š{count}"
   }

   // src/locales/en.json
   {
     "welcome": "Welcome to Vue!",
     "counter": "Counter: {count}"
   }
   ```

3. **é…ç½®æ’ä»¶**ï¼š
   ```javascript
   // src/main.js
   import { createApp } from 'vue';
   import { createI18n } from 'vue-i18n';
   import App from './App.vue';

   const i18n = createI18n({
     locale: 'zh', // é»˜è®¤è¯­è¨€
     messages: {
       en: require('./locales/en.json'),
       zh: require('./locales/zh.json'),
     },
   });

   createApp(App).use(i18n).mount('#app');
   ```

4. **æ¨¡æ¿ä¸­ä½¿ç”¨**ï¼š
   ```vue
   <template>
     <div>
       <h1>{{ $t('welcome') }}</h1>
       <p>{{ $t('counter', { count }) }}</p>
     </div>
   </template>

   <script setup>
   import { ref } from 'vue';

   const count = ref(0);
   const toggleLanguage = () => {
     $i18n.locale = $i18n.locale === 'zh' ? 'en' : 'zh';
   };
   </script>
   ```

::: tip
- å¯é€šè¿‡ `$i18n.locale` åŠ¨æ€åˆ‡æ¢è¯­è¨€ã€‚
- æ”¯æŒå ä½ç¬¦ï¼ˆå¦‚ `{count}`ï¼‰å’Œå¤æ•°åŒ–ã€‚
:::

## çŸ¥è¯†å›é¡¾

1. **ç¯å¢ƒå‡†å¤‡**ï¼š
   - å®‰è£… Viteï¼š`npm install -g vite`
   - åˆ›å»ºé¡¹ç›®ï¼š`npm create vite@latest [é¡¹ç›®å] -- --template vue`
   - å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š`npm run dev`
   - æ‰“åŒ…éƒ¨ç½²ï¼š`npm run build`
2. **Vue å•æ–‡ä»¶ç»„ä»¶**ï¼š
   - ä¸‰è¦ç´ ï¼š`<template>`ã€`<script setup>`ã€`<style scoped>`ã€‚
   - æ•°æ®ç»‘å®šï¼šé€šè¿‡ `{{ }}` æ’å…¥å˜é‡ï¼Œ`@äº‹ä»¶å` ç»‘å®šå‡½æ•°ã€‚
3. **æ¨¡å—åŒ–ä¸æ‰©å±•**ï¼š
   - ä½¿ç”¨ `import` å¯¼å…¥ç»„ä»¶ã€èµ„æºæˆ–ç¬¬ä¸‰æ–¹åº“ã€‚
   - é€šè¿‡æ’ä»¶ï¼ˆå¦‚ vue-i18nï¼‰å®ç°å¤šè¯­è¨€é…ç½®ã€‚

## è¯¾åç»ƒä¹ 

1. **å•é€‰é¢˜**ï¼š
   Vue å•æ–‡ä»¶ç»„ä»¶ä¸­ï¼Œ`<style scoped>` çš„ä½œç”¨æ˜¯ï¼Ÿ
   - A. å…¨å±€æ ·å¼ç”Ÿæ•ˆ
   - B. ä»…å½“å‰ç»„ä»¶ç”Ÿæ•ˆ
   - C. ç¦ç”¨ CSS
   - D. åˆå¹¶æ‰€æœ‰æ ·å¼

2. **å¡«ç©ºé¢˜**ï¼š
   åœ¨ Vue é¡¹ç›®ä¸­ï¼Œ`npm run dev` çš„ä½œç”¨æ˜¯______ï¼Œ`npm run build` çš„ä½œç”¨æ˜¯______ã€‚

3. **ä»£ç çº é”™**ï¼š
   ä¿®å¤ä»¥ä¸‹ `App.vue` ä»£ç ä¸­çš„è¯­æ³•é”™è¯¯ï¼š
   ```vue
   <tempalte>
     <h1>æµ‹è¯•é¡µé¢</h1>
   </tempalte>
   <script>
     const message = 'Hello Vue!'
   </script>
   ```

4. **æ“ä½œé¢˜**ï¼š
   æŒ‰æ­¥éª¤åˆ›å»ºä¸€ä¸ª Vue é¡¹ç›®ï¼Œæ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ååœ¨æ§åˆ¶å°è¾“å‡ºâ€œHello Vite!â€ã€‚

5. **æ‰©å±•é¢˜**ï¼š
   åœ¨ç°æœ‰é¡¹ç›®ä¸­å®ç°å¤šè¯­è¨€åˆ‡æ¢åŠŸèƒ½ï¼Œè¦æ±‚ï¼š
   - æ·»åŠ ä¸­è‹±æ–‡åˆ‡æ¢æŒ‰é’®ã€‚
   - ä¿®æ”¹ `App.vue` çš„æ¬¢è¿è¯­ä¸ºå¤šè¯­è¨€ç‰ˆæœ¬ã€‚
   - æä¾› `zh` å’Œ `en` ä¸¤ç§è¯­è¨€æ”¯æŒã€‚
