# A31. 语句 数据类型

## 1.1. 🌟 变量定义语句

> 变量就像储物柜：`let`是可变储物柜，`const`是上锁的保险箱。直接写`x=5`会污染全局？小心"流浪变量"！

::: code-group
```javascript{1,3}
// 正确写法
let score = 90;     // 可变分数
const PI = 3.14;    // 永恒π值

// ❌ 错误示例
x = 5;              // 全局变量污染！
```
:::

::: warning
1. 必须用`let`或`const`声明变量
2. `const`声明后禁止修改值（如PI=3.1415会报错）
3. **变量名不能以数字开头**（`2score`会报错）
:::

## 1.2. 🌟 赋值语句

> 赋值就像传递魔法水晶球：基础类型传递副本，对象类型共享同一个水晶球！

::: code-group
```javascript{3,6}
// 基础类型赋值
let a = 5;
let b = a;  // b是5的副本
a = 10;     // b仍保持5

// 对象引用赋值
let obj1 = { name: "小明" };
let obj2 = obj1;
obj1.name = "小红"; // obj2.name也变为小红！
```
:::

::: tip
- `=`是赋值，`===`才是严格等于
- 对象赋值本质是引用传递
- **避免直接修改参数对象**（会改变原始数据）
:::

## 1.3. 🌟 基础数据类型

> JavaScript的5大基础类型就像魔法元素，但`typeof null`显示object？这是语言设计的历史彩蛋！

| 类型         | 特征说明               | 示例代码                  |
| ------------ | ---------------------- | ------------------------- |
| `number`     | 数值类型（含小数）     | `let age = 16`            |
| `string`     | 字符串（需引号包裹）   | `let name = "小明"`       |
| `boolean`    | 布尔值（true/false）   | `let isStudent = true`    |
| `undefined`  | 未赋值的变量状态       | `let height;`             |
| `null`       | 明确的空值             | `let pet = null`          |

::: info
`typeof null` 返回 `object` 是 JavaScript 历史遗留问题。
:::

## 1.4. 🌟 浏览器基础函数

> `alert` 像公告，`prompt` 是输入对话框，`console.log` 是开发者日志——但输入的数字怎么变成字符串了？

::: code-group
```javascript{1,3}
// 函数使用示例
alert("欢迎来到JavaScript世界！"); // 阻塞式弹窗

let userName = prompt("输入名字："); // 返回字符串类型
console.log("调试信息:", userName); // 非阻塞输出

// 数字转换技巧
let age = Number(prompt("年龄：")); // 强制转为数字
```
:::

::: tip
1. `prompt`结果需类型转换
2. 优先使用`console.log`调试
3. `alert`会暂停代码执行
4. `console.table()`输出表格数据
:::

## 1.5. 🌟 模板字符串

> 用反引号`${}`拼接字符串，就像乐高积木一样灵活！告别重复的加号拼接！

```javascript
// 旧方法 vs 新方法
let info1 = name + "今年" + age + "岁"; // 传统方式
let info2 = `${name}今年${age}岁`;      // 模板字符串

// 表达式计算
let total = `${100 + 50}元`; // 直接计算表达式
```

::: warning
1. 必须使用反引号包裹
2. `${}`内变量名需正确
3. 数字拼接注意类型转换（`"100"+1 → "1001"`）
:::

## 知识回顾

### 核心概念对比表

| 主题         | 关键点                                                                 |
| ------------ | ---------------------------------------------------------------------- |
| 变量声明     | `let`可变，`const`不可变，必须显式声明                                 |
| 数据类型     | 5大基础类型：number/string/boolean/undefined/null（注意null的typeof陷阱）|
| 赋值特性     | 基础类型复制值，对象类型共享引用                                     |
| 函数使用     | `alert`弹窗阻塞，`prompt`返回字符串，`console.log`用于调试输出       |
| 字符串拼接   | 模板字符串用反引号`${}`，支持表达式直接计算                         |

### 常见误区

| 错误现象                 | 正确做法                          |
| ------------------------ | --------------------------------- |
| 未声明直接赋值`x=5`       | 使用`let x=5`或`const x=5`       |
| 对象修改引发连锁反应      | 使用深拷贝操作创建独立副本        |
| 模板字符串忘记反引号      | 确保使用`` ` ``包裹字符串         |
| `prompt`输入未转数字      | 使用`Number()`或`+`强制转换      |

## 课后练习

1. **选择题**
   `let a=1; b=a; a=2;` 现在b的值是？
   A. `1` B. `2` C. `undefined`

2. **纠错题**
   ```javascript
   let name = 小明
   console.log('我的名字是' + name)

3. **类型判断**
   `typeof undefined` 的结果是：
   A. `undefined` B. `null` C. `object`

4. **代码转换**
   将以下代码改为模板字符串：
   `"当前温度：" + temp + "℃，湿度" + humidity + "%"`  
   → `${temp}℃，湿度${humidity}%`

5. **项目实践**
   实现年龄计算器：
   ```javascript
   // 解决方案
   let birthYear = Number(prompt("出生年份："));
   let age = 2025 - birthYear;
   alert(`您今年${age}岁！`);
   ```

::: details 参考答案与解析
1. **A**：基础类型赋值是值的拷贝
2. **错误原因**：字符串需用引号包裹
3. `typeof undefined`返回`"undefined"`
4. 模板字符串需要反引号包裹
5. 关键点：`Number()`转换输入值，使用模板字符串拼接
:::
