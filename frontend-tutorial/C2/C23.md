# C23. NPM åŒ…ç®¡ç†å™¨


## 3.1. â­ å®‰è£… Node.js

> Node.js æ˜¯ JavaScript çš„æœåŠ¡å™¨è¿è¡Œç¯å¢ƒï¼ŒåŒ…å« NPMï¼ˆNode åŒ…ç®¡ç†å™¨ï¼‰ã€‚å®‰è£… Node.js æ—¶ä¼šè‡ªåŠ¨å®‰è£… NPMã€‚

### ğŸ“¦ å®‰è£…æ­¥éª¤ï¼š

1. **è®¿é—®å®˜ç½‘**ï¼š
   æ‰“å¼€ `https://nodejs.org` â†’ æ ¹æ®ç³»ç»Ÿé€‰æ‹© LTS ç‰ˆæœ¬ï¼ˆé•¿æœŸæ”¯æŒç‰ˆï¼‰â†’ ä¸‹è½½å®‰è£…åŒ…ã€‚
2. **å®‰è£…å‘å¯¼**ï¼š
   åŒå‡» `.exe`ï¼ˆWindowsï¼‰æˆ–è§£å‹ï¼ˆLinux/macOSï¼‰â†’ å‹¾é€‰ã€ŒAdd to PATHã€ï¼ˆWindowsï¼‰â†’ å®Œæˆå®‰è£…ã€‚

::: warning
- å®‰è£…æ—¶ç¡®ä¿å‹¾é€‰ã€ŒAdd to PATHã€ï¼Œå¦åˆ™éœ€æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ã€‚
- macOS ç”¨æˆ·å¯é€šè¿‡ Homebrew å®‰è£…ï¼š`brew install node`ã€‚
:::

```bash
# éªŒè¯å®‰è£…
node -v      # æŸ¥çœ‹ Node.js ç‰ˆæœ¬ï¼ˆå¦‚ v18.16.0ï¼‰
npm -v       # æŸ¥çœ‹ NPM ç‰ˆæœ¬ï¼ˆå¦‚ 9.6.7ï¼‰
```

## 3.2. ğŸŒŸ é€šè¿‡ install å‘½ä»¤å®‰è£…åŒ…

> NPM å¯ç®¡ç†é¡¹ç›®ä¾èµ–ï¼Œæ”¯æŒå…¨å±€å’Œé¡¹ç›®å†…å®‰è£…ã€‚

### ğŸ“¦ å®‰è£…æ¨¡å¼å¯¹æ¯”ï¼š
| æ¨¡å¼           | å‘½ä»¤ç¤ºä¾‹                | ä½œç”¨èŒƒå›´            | ç”¨é€”åœºæ™¯                            |
| -------------- | ----------------------- | ------------------- | ----------------------------------- |
| **é¡¹ç›®å†…å®‰è£…** | `npm install <åŒ…å>`    | å½“å‰é¡¹ç›®ç›®å½•        | å¼€å‘æˆ–ç”Ÿäº§ä¾èµ–ï¼ˆå¦‚ `express`ï¼‰      |
| **å…¨å±€å®‰è£…**   | `npm install -g <åŒ…å>` | ç³»ç»Ÿç¯å¢ƒå˜é‡ `PATH` | å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚ `create-react-app`ï¼‰ |

::: warning
- å…¨å±€å®‰è£…éœ€ç®¡ç†å‘˜æƒé™ï¼ˆWindows éœ€ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç»ˆç«¯ï¼‰ã€‚
- é¡¹ç›®å†…å®‰è£…ä¼šè‡ªåŠ¨æ›´æ–° `package.json` çš„ `dependencies` æˆ– `devDependencies`ã€‚
:::

**ç¤ºä¾‹**ï¼š
```bash
npm install es-toolkit   # å®‰è£…åˆ°é¡¹ç›®ä¾èµ–
npm install -g serve     # å…¨å±€å®‰è£…é™æ€æœåŠ¡å™¨
```

## 3.3. â­ é€šè¿‡ create å‘½ä»¤åˆ›å»ºæœ¬åœ°é¡¹ç›®

> NPM æä¾› `npm init` å‘½ä»¤å¿«é€Ÿåˆ›å»ºé¡¹ç›®ç»“æ„ï¼Œæˆ–ä½¿ç”¨æ¨¡æ¿å·¥å…·ï¼ˆå¦‚ `npx`ï¼‰ã€‚

### ğŸ› ï¸ åˆ›å»ºæ­¥éª¤ï¼š

1. **åŸºç¡€é¡¹ç›®**ï¼š
   ç»ˆç«¯è¿›å…¥ç›®æ ‡ç›®å½• â†’ è¾“å…¥ `npm init` â†’ æŒ‰æç¤ºå¡«å†™é¡¹ç›®ä¿¡æ¯ï¼ˆåç§°ã€ç‰ˆæœ¬ç­‰ï¼‰â†’ è‡ªåŠ¨ç”Ÿæˆ `package.json`ã€‚

2. **æ¨¡æ¿åŒ–åˆ›å»º**ï¼ˆä»¥ `express` ä¸ºä¾‹ï¼‰ï¼š
   ```bash
   npx express-generator myapp    # ç”Ÿæˆ Express æ¡†æ¶é¡¹ç›®
   cd myapp && npm install        # è¿›å…¥ç›®å½•å¹¶å®‰è£…ä¾èµ–
   ```

::: tip
`npx` å¯ä¸´æ—¶è¿è¡ŒåŒ…å†…çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ— éœ€å…¨å±€å®‰è£…ã€‚
:::


## 3.4. ğŸŒŸ package.json æ–‡ä»¶é…ç½®é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯

> `package.json` æ˜¯é¡¹ç›®çš„ã€Œè¯´æ˜ä¹¦ã€ï¼Œè®°å½•ä¾èµ–ã€è„šæœ¬å’Œå…ƒæ•°æ®ã€‚

### ğŸ“„ æ ¸å¿ƒå­—æ®µè¯´æ˜ï¼š

| å­—æ®µå            | ä½œç”¨æè¿°                   | ç¤ºä¾‹å€¼                     |
| ----------------- | -------------------------- | -------------------------- |
| `name`            | é¡¹ç›®åç§°ï¼ˆå…¨å±€å”¯ä¸€ï¼‰       | `"my-project"`             |
| `version`         | ç‰ˆæœ¬å·ï¼ˆéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰   | `"1.0.0"`                  |
| `dependencies`    | ç”Ÿäº§ç¯å¢ƒä¾èµ–               | `"es-toolkit": "^2.0.0"`   |
| `devDependencies` | å¼€å‘ç¯å¢ƒä¾èµ–ï¼ˆå¦‚æµ‹è¯•å·¥å…·ï¼‰ | `"jest": "^29.0.0"`        |
| `scripts`         | è‡ªå®šä¹‰å‘½ä»¤ï¼ˆå¦‚å¯åŠ¨ã€æµ‹è¯•ï¼‰ | `"start": "node index.js"` |

**ç¤ºä¾‹æ–‡ä»¶**ï¼š

```json
{
  "name": "my-tool",
  "version": "1.0.0",
  "dependencies": {
    "es-toolkit": "^2.0.0"
  },
  "devDependencies": {
    "eslint": "^8.0.0"
  },
  "scripts": {
    "start": "node src/index.js"
  }
}
```

## 3.5. â­ é¡¹ç›®ä¾èµ–å®‰è£…åœ¨ node_modules ç›®å½•ä¸‹

> `node_modules` æ˜¯ NPM è‡ªåŠ¨ç®¡ç†çš„ä¾èµ–ä»“åº“ï¼ŒåŒ…å«æ‰€æœ‰å®‰è£…çš„åŒ…ã€‚

### ğŸ“‚ ç›®å½•ç»“æ„ç‰¹ç‚¹ï¼š
- **è‡ªåŠ¨ç”Ÿæˆ**ï¼šè¿è¡Œ `npm install` åè‡ªåŠ¨ç”Ÿæˆã€‚
- **ç¦æ­¢æ‰‹åŠ¨ä¿®æ”¹**ï¼šä¾èµ–ç‰ˆæœ¬ç”± NPM ç®¡ç†ï¼Œç›´æ¥ä¿®æ”¹å¯èƒ½å¯¼è‡´å†²çªã€‚
- **å¿½ç•¥ç‰ˆæœ¬æ§åˆ¶**ï¼šåœ¨ `.gitignore` ä¸­åº”æ’é™¤ `node_modules`ã€‚

```bash
# é€šè¿‡ package.json æ¢å¤ä¾èµ–
npm install      # æ ¹æ® package.json å®‰è£…æ‰€æœ‰ä¾èµ–
```

## 3.6. ğŸŒŸ ä½¿ç”¨ import è¯­å¥å¯¼å…¥å¤–éƒ¨åº“çš„å‘½åç©ºé—´ï¼ˆä»¥ es-toolkit ä¸ºä¾‹ï¼‰

> ES æ¨¡å—è¯­æ³•å…è®¸ç›´æ¥å¯¼å…¥ç¬¬ä¸‰æ–¹åº“çš„å‡½æ•°æˆ–ç±»ã€‚

### ğŸ”Œ å¯¼å…¥ç¤ºä¾‹ï¼š

1. **å®‰è£…ä¾èµ–**ï¼š
   ```bash
   npm install es-toolkit
   ```
2. **ä»£ç ä¸­å¯¼å…¥**ï¼š
   ```javascript
   // index.js
   import { Logger } from 'es-toolkit';  // å¯¼å…¥ Logger ç±»

   const logger = new Logger();
   logger.info('Hello from es-toolkit!'); // è°ƒç”¨æ–¹æ³•
   ```

::: warning
- éœ€åœ¨ `package.json` ä¸­è®¾ç½® `"type": "module"` å¯ç”¨ ES æ¨¡å—ï¼š
  ```json
  {
    "type": "module"
  }
  ```
- è·¯å¾„åŒºåˆ†å¤§å°å†™ï¼ˆå¦‚ `es-toolkit` ä¸ `Es-Toolkit` æ•ˆæœä¸åŒï¼‰ã€‚
:::


## çŸ¥è¯†å›é¡¾

1. **Node.js å®‰è£…**ï¼š
   é€šè¿‡å®˜ç½‘ä¸‹è½½å®‰è£…åŒ… â†’ å‹¾é€‰ã€ŒAdd to PATHã€â†’ éªŒè¯ç‰ˆæœ¬å·ã€‚
2. **NPM å®‰è£…æ¨¡å¼**ï¼š
   - `npm install`ï¼šé¡¹ç›®å†…ä¾èµ– â†’ è®°å½•åˆ° `dependencies`ã€‚
   - `npm install -g`ï¼šå…¨å±€å·¥å…· â†’ å¯åœ¨ä»»æ„ç›®å½•è°ƒç”¨ã€‚
3. **é¡¹ç›®åˆ›å»ºä¸é…ç½®**ï¼š
   - `npm init` ç”ŸæˆåŸºç¡€é¡¹ç›®ç»“æ„ã€‚
   - `package.json` è®°å½•ä¾èµ–ã€è„šæœ¬å’Œå…ƒæ•°æ®ã€‚
4. **ä¾èµ–ç®¡ç†**ï¼š
   - `node_modules` è‡ªåŠ¨ç®¡ç†ï¼Œé€šè¿‡ `npm install` æ¢å¤ã€‚
   - ä½¿ç”¨ `import` è¯­æ³•å¯¼å…¥ ES æ¨¡å—ï¼ˆéœ€é…ç½® `"type": "module"`ï¼‰ã€‚


## è¯¾åç»ƒä¹ 

1. ï¼ˆå•é€‰ï¼‰ä»¥ä¸‹å“ªæ¡å‘½ä»¤ç”¨äºå…¨å±€å®‰è£… `serve` å·¥å…·ï¼Ÿ
   - A. `npm install serve`
   - B. `npm install -g serve`
   - C. `npm create serve`
   - D. `npm start serve`

2. ï¼ˆå¡«ç©ºï¼‰åœ¨ `package.json` ä¸­ï¼Œè®°å½•å¼€å‘ä¾èµ–çš„å­—æ®µåæ˜¯ `______`ã€‚

3. ï¼ˆæ“ä½œé¢˜ï¼‰å°è¯•å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š
   1. åˆ›å»ºæ–°æ–‡ä»¶å¤¹ `my-tool` â†’ è¿›å…¥ç›®å½• â†’ è¿è¡Œ `npm init -y`ï¼ˆå¿«é€Ÿåˆå§‹åŒ–ï¼‰ã€‚
   2. å®‰è£… `es-toolkit` ä¸ºç”Ÿäº§ä¾èµ–ã€‚
   3. åœ¨ `index.js` ä¸­å¯¼å…¥å¹¶ä½¿ç”¨ `Logger` ç±»è¾“å‡ºæ—¥å¿—ã€‚

4. ï¼ˆæ€è€ƒé¢˜ï¼‰ä¸ºä»€ä¹ˆ `node_modules` ç›®å½•ä¸åº”è¢«ç‰ˆæœ¬æ§åˆ¶ï¼Ÿè¯·ç”¨ 1 å¥è¯è§£é‡Šã€‚

5. ï¼ˆå®è·µé¢˜ï¼‰ç¼–å†™ä¸€ä¸ªä½¿ç”¨ `es-toolkit` çš„ JavaScript ç¨‹åºï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š
   - å¯¼å…¥ `es-toolkit` çš„ `Validator` æ¨¡å—ã€‚
   - éªŒè¯ç”¨æˆ·è¾“å…¥çš„é‚®ç®±æ ¼å¼æ˜¯å¦åˆæ³•ã€‚
   - å°†ä»£ç ä¿å­˜ä¸º `validator.js` å¹¶è¿è¡Œæµ‹è¯•ã€‚
